const express=require("express"),router=express.Router(),axios=require("axios");router.get("/",(async(req,res)=>{try{const ip=req.headers["x-forwarded-for"]||req.socket.remoteAddress,isTor=(await axios.get(`https://check.torproject.org/cgi-bin/TorBulkExitList.py?ip=${ip}`)).data.includes(ip);res.json({isTor:isTor,ip:ip})}catch(error){res.status(500).json({error:error.message})}})),module.exports=router;